<div class="modal-header">
  <h5 class="modal-title">Add a New Product</h5>
  <button type="button" class="close" (click)="close()">
      <span aria-hidden="true">&times;</span>
  </button>
</div>
          
<form [formGroup]="form" (ngSubmit)="onSubmit(); close()"> <!-- this binds the viewed form to the form we build in the component class --> 
  <div class="modal-body dash-modal-body">
      <div>
          <div class="row">
              <label for="name" class="col-4 col-form-label text-right">Product Name</label>
              <div class="col-8">
                  <input 
                      class="form-control" 
                      type="text" 
                      id="name" 
                      [formControl]="form.controls['name']">
                      <small 
                          *ngIf="!form.get('name').valid && form.get('name').touched"
                          class="help-block"
                          >Please enter a name for the product.</small>
              </div>
          </div>
          <div class="row">
              <label for="description" class="col-4 col-form-label text-right">Description</label>
              <div class="col-8">
                  <input 
                      class="form-control" 
                      type="text" 
                      id="description" 
                      [formControl]="form.controls['description']">
              </div>
          </div>

          <div class="row">
              <label for="imagePath" class="col-4 col-form-label text-right">Image URL</label>
              <div class="col-8">
                  <input 
                      class="form-control" 
                      type="text" 
                      id="imagePath" 
                      [formControl]="form.controls['image']">
              </div>
          </div>

          <div class="row">
              <label for="pricePerUnit" class="col-4 col-form-label text-right">Price Per Unit</label>
              <div class="col-8 input-group">
                  <div class="input-group-addon">$</div>
                  <input 
                      class="form-control" 
                      type="number"
                      min="0"
                      step="any"
                      id="pricePerUnit" 
                      [formControl]="form.controls['pricePerUnit']">
              </div>
          </div>

          <br>

          <div class="row">
              <label for="unit" class="col-4 col-form-label text-right">Pricing Unit</label>
              <div class="col-8">
                  <select class="custom-select float-left" name="unit" [formControl]="form.controls['unit']">
                      <option selected value="">Select a Unit</option>
                      <option value="lb">Pound</option>
                      <option value="kg">Kilo</option>
                      <option value="ea">Each</option>
                      <option value="pkg">Package</option>
                  </select>
              </div>
          </div>

          <br>

          <div class="row">
              <label for="unitsPer" class="col-4 col-form-label text-right">Units Per Final Product</label>
              <div class="col-8 input-group">
                  <input 
                      class="form-control" 
                      type="number"
                      min="0"
                      step=".1"
                      id="unitsPer" 
                      [formControl]="form.controls['unitsPer']">
              </div>
              <div class="col-8 offset-4">
                  <small class="form-text text-muted text-right">If your final product contains more than 1 unit (like a 5 lb chicken), change this to the average number of units per final product. We can use this to calculate an estimated final price for the consumer.</small>
              </div>
          </div>

          <br>

          <div class="row">
              <label for="category" class="col-4 col-form-label text-right">Category</label>
              <div class="col-8">
                  <select class="custom-select float-left" name="category" [formControl]="form.controls['category']">
                      <option selected value="">Choose a Category</option>
                      <option value="meat">Meat</option>
                      <option value="vegetables">Vegetables</option>
                      <option value="dairy">Dairy</option>
                  </select>
              </div>
          </div>

          <br>

          <div class="row">
              <label for="subcategory" class="col-4 col-form-label text-right">Subcategory</label>
              <!-- meat subcategories -->
              <div class="col-8" *ngIf="form.value.category === 'meat'">
                  <select class="custom-select float-left" name="subcategory" [formControl]="form.controls['subcategory']">
                      <option selected value="">Choose a Subcategory</option>
                      <option value="pork">Pork</option>
                      <option value="beef">Beef</option>
                  </select>
              </div>
              <!-- vegetable subcategories -->
              <div class="col-8" *ngIf="form.value.category === 'vegetables'">
                  <select class="custom-select float-left" name="subcategory" [formControl]="form.controls['subcategory']">
                      <option selected value="">Choose a Subcategory</option>
                      <option value="carrots">Carrots</option>
                      <option value="potatoes">Potatoes</option>
                  </select>
              </div>
              <!-- dairy subs -->
              <div class="col-8" *ngIf="form.value.category === 'dairy'">
                  <select class="custom-select float-left" name="subcategory" [formControl]="form.controls['subcategory']">
                      <option selected value="">Choose a Subcategory</option>
                      <option value="cheese">Cheese</option>
                      <option value="yogurt">Yogurt</option>
                  </select>
              </div>
          </div>

          <br>

          <div class="row">
              <label for="qtyAvailable" class="col-4 col-form-label text-right">Quantity Available</label>
              <div class="col-8 input-group">
                  <input 
                      class="form-control" 
                      type="number"
                      min="0"
                      step="1"
                      id="qtyAvailable" 
                      [formControl]="form.controls['qtyAvailable']">
              </div>
          </div>
          
      </div>
  </div>
  <div class="modal-footer justify-content-center">
      <div class="row">
          <div>
              <button class="btn btn-olf-primary" type="submit">Add to Products</button>
              <a (click)="close()">Cancel Changes</a>
          </div>
      </div>
  </div>
</form>
