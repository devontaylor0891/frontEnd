<div class="row">
    <div class="col px-0">

        <div id="productsAccordion" role="tablist" aria-multiselectable="true">

            <!-- Add new product button -->
            <div class="row text-center">
                <div class="col col-xs-12">
                    <div class="btn-group">
                        <a class="btn btn-olf-primary" (click)="openModal()"><i class="fa fa-plus prefix mr-3"></i>Add New Product</a>
                    </div>
                    <br>
                </div>
            </div>

            <br>
            
            <!-- Current Product Table -->
            <div class="card">
                <div class="card-header dash-accordion" role="tab" id="currentProductsHeading">
                    <h5 class="mb-0">
                        <a 
                            data-toggle="collapse" 
                            data-parent="#productsAccordion" 
                            href="#currentProductsCollapse" 
                            aria-expanded="true" 
                            aria-controls="currentProductsCollapse">Current Products 
                                <i class="fa fa-caret-down fa-lg" aria-hidden="true"></i>
                        </a>
                    </h5>
                </div>
                <div id="currentProductsCollapse" class="collapse show" role="tabpanel" aria-labelledby="currentProductsHeading">
                    <div class="card-block">
                        <app-table-layout
                            [records]="currentProducts"
                            [recordType]="recordType"
                            [settings]="projectSettings"
                            [editable]="editable"
                            [deletable]="deletable"
                            (productObsoleted)="onProductObsoleted('current', $event)">
                        </app-table-layout>
                    </div>
                </div>
            </div>
            
            <!-- Out of stock Product Table -->
            <div class="card" *ngIf="outOfStockProducts.length > 0">
                <div class="card-header dash-accordion" role="tab" id="outOfStockProductsHeading">
                    <h5 class="mb-0">
                        <a 
                            class="collapsed" 
                            data-toggle="collapse" 
                            data-parent="#productsAccordion" 
                            href="#outOfStockProductsCollapse" 
                            aria-expanded="false" 
                            aria-controls="outOfStockProductsCollapse">Out-of-stock Products 
                                <i class="fa fa-caret-down fa-lg" aria-hidden="true"></i>
                        </a>
                    </h5>
                </div>
                <div id="outOfStockProductsCollapse" class="collapse" role="tabpanel" aria-labelledby="outOfStockProductsHeading">
                    <div class="card-block">
                        <app-table-layout
                            [records]="outOfStockProducts"
                            [recordType]="recordType"
                            [settings]="projectSettings"
                            [editable]="editable"
                            [deletable]="deletable"
                            (productObsoleted)="onProductObsoleted('outOfStock', $event)">
                        </app-table-layout>
                    </div>
                </div>
            </div>
            
            <!-- Deleted Product Table -->
            <div class="card" *ngIf="obsoletedProducts.length > 0">
                <div class="card-header dash-accordion" role="tab" id="deletedProductsHeading">
                    <h5 class="mb-0">
                        <a 
                            class="collapsed" 
                            data-toggle="collapse" 
                            data-parent="#productsAccordion" 
                            href="#deletedProductsCollapse" 
                            aria-expanded="false" 
                            aria-controls="deletedProductsCollapse">Obsolete Products 
                                <i class="fa fa-caret-down fa-lg" aria-hidden="true"></i>
                        </a>
                    </h5>
                </div>
                <div id="deletedProductsCollapse" class="collapse" role="tabpanel" aria-labelledby="deletedProductsHeading">
                    <div class="card-block">
                        <app-table-layout
                            [records]="obsoletedProducts"
                            [recordType]="recordType"
                            [settings]="projectSettings"
                            [editable]="editable"
                            [deletable]="deletable"
                            (productDeleted)="onProductDeleted($event)">
                        </app-table-layout>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>